(this["webpackJsonpshotgun-player"]=this["webpackJsonpshotgun-player"]||[]).push([[0],{56:function(e,n,t){e.exports=t(71)},70:function(e,n,t){},71:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(46),i=t.n(c),o=t(13),u=t(38),l=t(8),d=t(4),s=t(5);function f(){var e=Object(d.a)(["\n  box-sizing: border-box;\n"]);return f=function(){return e},e}var b=s.b.div(f());function m(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  background-color: #212330;\n"]);return m=function(){return e},e}var p=Object(s.b)(b)(m()),g=t(23),h=t(20),v=t(50),k=function(e){var n=e.size,t=Object(g.a)(e,["size"]);return a.a.createElement(v.a,Object.assign({},t,{style:{width:n,height:n}}))},x=function(){return a.a.createElement(k,{icon:h.a,size:40,color:"#fc0082",spin:!0})},j=t(14),O=t(27),w=t(29);function E(){var e=Object(d.a)(["\n  {\n    me {\n      id\n    }\n  }\n"]);return E=function(){return e},e}var y=Object(O.b)(E()),T=function(){var e=Object(w.a)(y),n=e.loading,t=e.error,r=e.data;return n||t?{loading:n,error:t}:Object(j.a)({loading:n,error:t},r.me)},C=function(e){var n=e.children,t=Object(g.a)(e,["children"]),r=T(),c=r.loading,i=r.id;return a.a.createElement(l.b,Object.assign({},t,{render:function(){return c?a.a.createElement(x,null):i?n:a.a.createElement(l.a,{to:"/shotgun-player/sign-in"})}}))},L=t(6),z=t.n(L);function I(){var e=Object(d.a)(["\n  ","\n"]);return I=function(){return e},e}var S=s.b.div(I(),(function(e){var n=e.size,t=e.weight,r=e.color;return"\n      margin: 0px;\n      padding: 0px;\n      font-family: Roboto;\n      font-size: ".concat(n,"px;\n      font-weight: ").concat(t,";\n      line-height: 1.5;\n      color: ").concat(r,";\n    ")}));S.defaultProps={size:16,weight:400,color:"white"},S.propTypes={size:z.a.oneOf([16,18,24]),weight:z.a.oneOf([400,700]),color:z.a.oneOf(["white","grey"])};var P=S;function A(){var e=Object(d.a)(["\n  flex-shrink: 0;\n  width: 100vw;\n  height: 100px;\n  padding-left: 10%;\n  padding-right: 10%;\n  background-color: #1a1b26;\n"]);return A=function(){return e},e}function D(){var e=Object(d.a)(["\n  ","\n"]);return D=function(){return e},e}var N=Object(s.b)(b)(D(),(function(e){var n=e.eventImages,t="\n      background-image: linear-gradient(rgba(26, 27, 38, 0.2), rgb(26, 27, 38)), url(".concat(((n||[])[0]||{}).url,");\n      background-size: cover;\n      background-position: center center;\n      background-repeat: no-repeat;\n    ");return"\n      display: flex;\n      flex-shrink: 0;\n      flex-direction: column;\n      justify-content: flex-end;\n      width: 100%;\n      height: 300px;\n      padding-left: 10%;\n      padding-right: 10%;\n      ".concat(n?t:"","\n      background-color: #1a1b26;\n  ")})),B=Object(s.b)(b)(A()),R=function(e){var n=e.eventName,t=e.eventImages;return a.a.createElement(a.a.Fragment,null,a.a.createElement(N,{eventImages:t},a.a.createElement(P,{size:32,weight:700},n),a.a.createElement(P,{size:16,color:"grey"},"Mon 6 July")),a.a.createElement(B,null))},F={small:576,medium:768,large:992,extra_large:1200},W=t(24),$=t(15),_=t.n($);function q(){var e=Object(d.a)(["\n        @media (min-width: ","px) {\n          ",";\n        }\n      "]);return q=function(){return e},e}var J=_.a.reduce(F,(function(e,n,t){return _.a.assign({},e,Object(W.a)({},t,(function(){return Object(s.a)(q(),n,s.a.apply(void 0,arguments))})))}),{});function M(){var e=Object(d.a)(["\n    width: 44%;\n  "]);return M=function(){return e},e}function U(){var e=Object(d.a)(["\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: column;\n  width: 100%;\n  margin-right: 50px;\n  margin-bottom: 50px;\n\n  ","\n"]);return U=function(){return e},e}var X=Object(s.b)(b)(U(),J.extra_large(M()));function G(){var e=Object(d.a)(["\n  width: 100%;\n  height: 1px;\n  margin-bottom: 50px;\n  background-image: linear-gradient(\n    to right,\n    rgb(108, 19, 221),\n    rgb(253, 48, 154)\n  );\n"]);return G=function(){return e},e}function Q(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: fit-content;\n"]);return Q=function(){return e},e}var Z=Object(s.b)(b)(Q()),H=Object(s.b)(b)(G()),K=function(e){var n=e.children;return a.a.createElement(Z,null,a.a.createElement(P,{size:24,weight:700},n),a.a.createElement(H,null))},V=function(){return a.a.createElement(X,null,a.a.createElement(K,null,"Tickets"))},Y=t(22);function ee(){var e=Object(d.a)(["\n  display: flex;\n  margin: 0px;\n  padding: 0px;\n  border: unset;\n  border-radius: 8px;\n  outline: unset;\n  cursor: pointer;\n  background-color: unset;\n\n  &:hover {\n    filter: brightness(105%);\n  }\n"]);return ee=function(){return e},e}var ne=s.b.button(ee());function te(){var e=Object(d.a)(["\n  ","\n"]);return te=function(){return e},e}function re(){var e=Object(d.a)(["\n  ","\n"]);return re=function(){return e},e}var ae=Object(s.b)(ne)(re(),(function(e){var n=e.checked,t=e.checkedColor,r=e.uncheckedColor,a=e.disabled;return"\n      display: flex;\n      flex-direction: row;\n      width: 35px;\n      height: 20px;\n      border-radius: 10px;\n      ".concat(a?"cursor: unset;":"","\n      background-color: ").concat(n?t:r,";\n      transition: background-color 0.1s ease;\n    ")})),ce=Object(s.b)(b)(te(),(function(e){var n=e.checked;return"\n      position: relative;\n      left: ".concat(n?"15":"0","px;\n      transition: left 0.1s ease;\n      width: 20px;\n      height: 20px;\n      border-radius: 10px;\n      background-color: white;\n    ")})),ie=function(e){e.className;var n=e.checked,t=e.checkedColor,r=e.uncheckedColor,c=(e.style,e.onClick),i=Object(g.a)(e,["className","checked","checkedColor","uncheckedColor","style","onClick"]);return a.a.createElement(ae,Object.assign({},i,{checked:n,checkedColor:t,uncheckedColor:r,onClick:c}),a.a.createElement(ce,{checked:n}))};ie.defaultProps={className:void 0,style:void 0};var oe=ie,ue=t(42),le=function(e){var n=e.style,t=e.onClick,r=Object(g.a)(e,["style","onClick"]);return a.a.createElement(ne,{style:n,onClick:t},a.a.createElement(k,r))};le.defaultProps={style:void 0,onClick:void 0};var de=le;function se(){var e=Object(d.a)(["\n  ","\n"]);return se=function(){return e},e}function fe(){var e=Object(d.a)(["\n  ","\n"]);return fe=function(){return e},e}var be=Object(s.b)(b)(fe(),(function(e){var n=e.currentTrackPercentage;return"\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    align-items: center;\n    height: 6px;\n    border-radius: 3px;\n    cursor: pointer;\n    background: linear-gradient(\n      to right,\n      white ".concat(n,"%,\n      grey 0px\n    );\n  ")})),me=Object(s.b)(b)(se(),(function(e){var n=e.currentTrackPercentage;return"\n    position: relative;\n    left: ".concat(n-1,"%;\n    width: 10px;\n    height: 10px;\n    border-radius: 5px;\n    cursor: grab;\n    box-shadow: 0px 0px 2px 1px rgba(0,0,0,0.25);\n    background-color: white;\n  ")})),pe=function(e){var n=e.currentTrackDuration,t=e.currentTrackTime,r=e.setAudioTime,c=a.a.useRef(),i=t/n*100,o=function(e){var t=c.current.getBoundingClientRect().left+window.scrollX,a=c.current.offsetWidth,i=e.pageX;r(n/a*(i-t))};return a.a.createElement(be,{ref:c,currentTrackPercentage:i,onMouseDown:function(e){o(e),document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function(){return document.removeEventListener("mousemove",o)}))}},a.a.createElement(me,{currentTrackPercentage:i}))};function ge(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 5px;\n"]);return ge=function(){return e},e}var he=Object(s.b)(b)(ge()),ve=function(e){return a.a.createElement(de,Object.assign({},e,{size:10,color:"#fc0082"}))},ke=function(e){var n=e.currentTrackDuration,t=e.currentTrackTime,r=e.stepBackwardCurrentTrack,c=e.stepForwardCurrentTrack,i=e.setAudioTime;return a.a.createElement(he,null,a.a.createElement(ve,{icon:h.e,style:{marginRight:5},onClick:r}),a.a.createElement(pe,{currentTrackDuration:n,currentTrackTime:t,setAudioTime:i}),a.a.createElement(ve,{icon:h.f,style:{marginLeft:8},onClick:c}))};function xe(){var e=Object(d.a)(["\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]);return xe=function(){return e},e}function je(){var e=Object(d.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  min-width: 0px;\n  height: 100%;\n"]);return je=function(){return e},e}function Oe(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 40px;\n  margin-right: 25px;\n  border-radius: 30px;\n  border-style: solid;\n  border-color: #fc0082;\n  border-width: 1px;\n  background-color: unset;\n"]);return Oe=function(){return e},e}function we(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  height: 80px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 25px;\n  padding-right: 25px;\n  background-color: rgba(255, 255, 255, 0.1);\n"]);return we=function(){return e},e}var Ee=Object(s.b)(b)(we()),ye=Object(s.b)(ne)(Oe()),Te=Object(s.b)(b)(je()),Ce=Object(s.b)(P)(xe()),Le=function(e){var n=e.currentTrackName,t=e.currentTrackArtists,r=e.currentTrackPlayed,c=e.currentTrackDuration,i=e.currentTrackTime,o=e.playCurrentTrack,u=e.pauseCurrentTrack,l=e.stepBackwardCurrentTrack,d=e.stepForwardCurrentTrack,s=e.setAudioTime,f=_.a.map(t,(function(e){return e.name}));return a.a.createElement(Ee,null,a.a.createElement(ye,{style:{paddingLeft:r?0:2},onClick:function(){r?u():o()}},a.a.createElement(k,{icon:r?h.c:h.d,size:20,color:"#fc0082"})),a.a.createElement(Te,null,a.a.createElement(Ce,{size:16,weight:700},n),a.a.createElement(Ce,{size:12},_.a.join(f,", ")),a.a.createElement(ke,{currentTrackDuration:c,currentTrackTime:i,stepBackwardCurrentTrack:l,stepForwardCurrentTrack:d,setAudioTime:s})))};function ze(){var e=Object(d.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return ze=function(){return e},e}var Ie=Object(s.b)(b)(ze()),Se=t(55);function Pe(){var e=Object(d.a)(["\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]);return Pe=function(){return e},e}function Ae(){var e=Object(d.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 0px;\n  height: 100%;\n  padding-left: 10px;\n"]);return Ae=function(){return e},e}function De(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50px;\n  height: 100%;\n"]);return De=function(){return e},e}function Ne(){var e=Object(d.a)(["\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  height: 50px;\n  border-radius: unset;\n  background-color: rgba(255, 255, 255, 0.05);\n\n  // This isn't following the default behavior!\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.175);\n  }\n"]);return Ne=function(){return e},e}var Be=Object(s.b)(ne)(Ne()),Re=Object(s.b)(b)(De()),Fe=Object(s.b)(b)(Ae()),We=Object(s.b)(P)(Pe()),$e=function(e){var n=e.currentTrackIndex,t=e.currentTrackPlayed,r=e.trackIndex,c=e.trackName,i=e.trackArtists,o=e.trackLiked,u=e.playTrack,l=e.addTrackToLiked,d=e.removeTrackToLiked,s=_.a.map(i,(function(e){return e.name}));return a.a.createElement(Be,{onClick:function(){return u(r)}},a.a.createElement(Re,null,n===r&&t?a.a.createElement(k,{icon:h.g,color:"#fc0082"}):a.a.createElement(P,{size:12,color:"grey"},"".concat(r+1,"."))),a.a.createElement(Fe,null,a.a.createElement(We,{size:14,weight:700},c),a.a.createElement(We,{size:12,color:"grey"},_.a.join(s,", "))),a.a.createElement(Re,null,a.a.createElement(de,{icon:o?h.b:Se.a,color:"#fc0082",onClick:function(e){e.stopPropagation(),o?d(r):l(r)}})))};function _e(){var e=Object(d.a)(["\n  "]);return _e=function(){return e},e}function qe(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 500px;\n\n  ","\n"]);return qe=function(){return e},e}var Je=Object(s.b)(b)(qe(),J.large(_e())),Me=function(e){var n=e.eventTracks,t=e.eventTracksLiked,c=e.setEventTracksLiked,i=e.setEventTracksLikable,o=a.a.useRef(),u=a.a.useState({}),l=Object(Y.a)(u,2),d=l[0],s=l[1],f=a.a.useState([]),b=Object(Y.a)(f,2),m=b[0],p=b[1],g=a.a.useState(0),h=Object(Y.a)(g,2),v=h[0],k=h[1],x=a.a.useState(!1),O=Object(Y.a)(x,2),w=O[0],E=O[1],y=a.a.useState(0),T=Object(Y.a)(y,2),C=T[0],L=T[1],z=a.a.useState(0),I=Object(Y.a)(z,2),S=I[0],P=I[1],A=a.a.useRef(0),D=function(){E(!0),o.current.play()},N=a.a.useCallback((function(e){k(e),o.current.load(),D()}),[]);a.a.useEffect((function(){s((function(e){var r=[];if(t){var a=_.a.reduce(e,(function(e,n,t){return n.liked?(r.push(t),Object(j.a)(Object(j.a)({},e),{},Object(W.a)({},t,n))):e}),{});return p(r),a}var c=_.a.reduce(n,(function(n,t){var a=t.track,c=(e[a.id]||{}).liked||!1,i=Object(j.a)(Object(j.a)({},a),{},{liked:c});return r.push(a.id),Object(j.a)(Object(j.a)({},n),{},Object(W.a)({},a.id,i))}),{});return p(r),c})),k(0),E(!1),o.current.pause(),o.current.load()}),[n,t]);var B=d[m[v]]||{},R=a.a.useCallback((function(){N(v+1>=m.length?0:v+1)}),[N,v,m]),F=function(e,n,t){s((function(r){var a;return n||(a=Object(j.a)(Object(j.a)({},r[m[e]]),{},{liked:t})),Object(j.a)(Object(j.a)({},r),{},Object(W.a)({},m[e],a))}))},$=function(e){A.current+=1,1===A.current&&i(!0),F(e,!1,!0)},q=function(e){if(A.current-=1,A.current||(A.current=0,i(!1)),t){var n=[].concat(Object(ue.a)(m.slice(0,e)),Object(ue.a)(m.slice(e+1)));F(e,!0),_.a.isEmpty(n)?c(!1):(p(n),v===e?w?N(v>=n.length?0:v):k(v>=n.length?0:v):v>e&&k(v-1<0?n.length-1:v-1))}else F(e,!1,!1)},J=function(){L(o.current.duration),P(o.current.currentTime)},M=function(){P(o.current.currentTime)},U=Object(r.useCallback)((function(){w&&R()}),[w,R]);return a.a.useEffect((function(){return o.current.addEventListener("loadeddata",J),o.current.addEventListener("timeupdate",M),o.current.addEventListener("ended",U),function(){o.current.removeEventListener("loadeddata",J),o.current.removeEventListener("timeupdate",M),o.current.removeEventListener("ended",U)}}),[U]),a.a.createElement(Je,null,a.a.createElement(Le,{currentTrackName:B.name,currentTrackArtists:B.artists,currentTrackPlayed:w,currentTrackDuration:C,currentTrackTime:S,playCurrentTrack:D,pauseCurrentTrack:function(){E(!1),o.current.pause()},stepBackwardCurrentTrack:function(){N(v-1<0?m.length-1:v-1)},stepForwardCurrentTrack:R,setAudioTime:function(e){o.current.currentTime=e}}),a.a.createElement(Ie,null,_.a.map(m,(function(e,n){var t=d[m[n]]||{},r=t.name,c=t.artists,i=t.liked;return a.a.createElement($e,{key:e,currentTrackIndex:v,currentTrackPlayed:w,trackIndex:n,trackName:r,trackArtists:c,trackLiked:i,playTrack:N,addTrackToLiked:$,removeTrackToLiked:q})}))),a.a.createElement("audio",{ref:o},a.a.createElement("source",{src:B.preview_url})))};function Ue(){var e=Object(d.a)(["\n  margin-right: 10px;\n"]);return Ue=function(){return e},e}function Xe(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 20px;\n"]);return Xe=function(){return e},e}var Ge=Object(s.b)(b)(Xe()),Qe=Object(s.b)(P)(Ue()),Ze=function(e){var n=e.eventTracks,t=a.a.useState(!1),r=Object(Y.a)(t,2),c=r[0],i=r[1],o=a.a.useState(!1),u=Object(Y.a)(o,2),l=u[0],d=u[1];return a.a.createElement(X,null,a.a.createElement(K,null,"Line Up"),a.a.createElement(Ge,null,a.a.createElement(Qe,{size:12},"Show liked tracks only :"),a.a.createElement(oe,{checked:c,checkedColor:"#fc0082",uncheckedColor:"grey",onClick:function(){i((function(e){return!e}))},disabled:!l})),a.a.createElement(Me,{eventTracks:n,eventTracksLiked:c,setEventTracksLiked:i,setEventTracksLikable:d}))};function He(){var e=Object(d.a)(["\n  query getEvent($id: String!, $userId: String!) {\n    playlist(id: $id, userId: $userId) {\n      id\n      name\n      owner {\n        id\n        display_name\n      }\n      images {\n        url\n      }\n      description\n      tracks {\n        track {\n          id\n          name\n          artists {\n            name\n          }\n          preview_url\n        }\n      }\n    }\n  }\n"]);return He=function(){return e},e}var Ke=Object(O.b)(He()),Ve=function(e){var n=T().id,t=Object(w.a)(Ke,{variables:{id:e,userId:n}}),r=t.loading,a=t.error,c=t.data;return r||a?{loading:r,error:a}:Object(j.a)({loading:r,error:a},c.playlist)};function Ye(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 100%;\n  padding-top: 50px;\n  padding-left: 10%;\n  padding-right: 10%;\n"]);return Ye=function(){return e},e}function en(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return en=function(){return e},e}var nn=Object(s.b)(b)(en()),tn=Object(s.b)(b)(Ye()),rn=function(){var e=Ve("7Cy3wdbRlZqW22fUDGWpwk"),n=e.loading,t=e.name,r=e.images,c=e.tracks;return n?null:a.a.createElement(nn,null,a.a.createElement(R,{eventName:t,eventImages:r}),a.a.createElement(tn,null,a.a.createElement(V,null),a.a.createElement(Ze,{eventTracks:c})))};function an(){var e=Object(d.a)(["\n    width: 500px;\n  "]);return an=function(){return e},e}function cn(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n  width: 100%;\n  background-color: #1db954;\n\n  ","\n"]);return cn=function(){return e},e}function on(){var e=Object(d.a)(["\n  margin-bottom: 20px;\n"]);return on=function(){return e},e}function un(){var e=Object(d.a)(["\n  margin: auto;\n"]);return un=function(){return e},e}var ln=Object(s.b)(b)(un()),dn=Object(s.b)(P)(on()),sn=Object(s.b)(ne)(cn(),J.large(an())),fn=function(){return a.a.createElement(ln,null,a.a.createElement(P,{size:24,weight:700,color:"white"},"Sign In"),a.a.createElement(dn,{color:"grey"},"Discover the event line up and more!"),a.a.createElement(sn,{onClick:function(){window.location.href="".concat("https://shotgun-player-api.herokuapp.com","/auth/connect")}},a.a.createElement(P,{size:18,weight:700},"Continue with Spotify")))},bn=function(){return new O.a({uri:"".concat("https://shotgun-player-api.herokuapp.com","/graphql"),credentials:"include",onError:function(e){var n=e.graphQLErrors;n&&n[0]&&"Unauthorized"===n[0].message&&(console.log("here"),window.location.href="".concat("https://shotgun-player-api.herokuapp.com","/auth/logout"))}})}(),mn=function(){return a.a.createElement(o.a,{client:bn},a.a.createElement(p,null,a.a.createElement(u.a,null,a.a.createElement(l.d,null,a.a.createElement(C,{exact:!0,path:"/shotgun-player"},a.a.createElement(rn,null)),a.a.createElement(l.b,{exact:!0,path:"/shotgun-player/sign-in"},a.a.createElement(fn,null)),a.a.createElement(l.a,{to:"/shotgun-player"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(70);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(mn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.060db254.chunk.js.map